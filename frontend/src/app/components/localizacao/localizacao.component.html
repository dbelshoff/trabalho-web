<div
  *ngIf="localizacaoDetectada; else localizacaoNaoDetectada"
  class="localizacao"
>
  <div class="localizacao-info">
    <span>
      üìç
      <ng-container
        *ngIf="estadoAtual || cidadeAtual || bairroAtual; else selecioneEstado"
      >
        Voc√™ est√° em
        <ng-container *ngIf="bairroAtual">{{ bairroAtual }}</ng-container>
        <ng-container *ngIf="bairroAtual && (cidadeAtual || estadoAtual)"
          >,</ng-container
        >
        <ng-container *ngIf="cidadeAtual">{{ cidadeAtual }}</ng-container>
        <ng-container *ngIf="cidadeAtual && estadoAtual">/</ng-container>
        <ng-container *ngIf="estadoAtual">{{ estadoAtual }}</ng-container>
      </ng-container>
      <ng-template #selecioneEstado> Localiza√ß√£o nao informada </ng-template>
    </span>

    <div *ngIf="mostrandoFormulario" class="form-localizacao">
      <div class="form-group">
        <label for="estado">Estado:</label>
        <select
          id="estado"
          [(ngModel)]="estadoSelecionado"
          (change)="onEstadoChange()"
        >
          <option value="">Selecione um estado</option>
          <option *ngFor="let estado of estados" [value]="estado">
            {{ estado }}
          </option>
        </select>
      </div>

      <div class="form-group" *ngIf="cidades.length > 0">
        <label for="cidade">Cidade:</label>
        <select
          id="cidade"
          [(ngModel)]="cidadeSelecionada"
          (change)="onCidadeChange()"
        >
          <option value="">Selecione uma cidade</option>
          <option *ngFor="let cidade of cidades" [value]="cidade">
            {{ cidade }}
          </option>
        </select>
      </div>

      <div class="form-group" *ngIf="bairros.length > 0">
        <label for="bairro">Bairro:</label>
        <select id="bairro" [(ngModel)]="bairroSelecionado">
          <option value="">Selecione um bairro</option>
          <option *ngFor="let bairro of bairros" [value]="bairro">
            {{ bairro }}
          </option>
        </select>
      </div>
    </div>

    <button (click)="alterarLocalizacao()">
      {{ mostrandoFormulario ? "OK" : "Alterar" }}
    </button>
  </div>
</div>

<ng-template #localizacaoNaoDetectada>
  <div class="localizacao-nao-detectada">
    <div class="localizacao-info-not">
      <span>
        Informe uma localiza√ß√£o para exibir os estabelecimentos pr√≥ximos
      </span>
      <br />
      <br />

      <div *ngIf="mostrandoFormulario" class="form-localizacao">
        <div class="form-group">
          <label for="estado">Estado:</label>
          <select
            id="estado"
            [(ngModel)]="estadoSelecionado"
            (change)="onEstadoChange()"
          >
            <option value="">Selecione um estado</option>
            <option *ngFor="let estado of estados" [value]="estado">
              {{ estado }}
            </option>
          </select>
        </div>

        <div class="form-group" *ngIf="cidades.length > 0">
          <label for="cidade">Cidade:</label>
          <select
            id="cidade"
            [(ngModel)]="cidadeSelecionada"
            (change)="onCidadeChange()"
          >
            <option value="">Selecione uma cidade</option>
            <option *ngFor="let cidade of cidades" [value]="cidade">
              {{ cidade }}
            </option>
          </select>
        </div>

        <div class="form-group" *ngIf="bairros.length > 0">
          <label for="bairro">Bairro:</label>
          <select id="bairro" [(ngModel)]="bairroSelecionado">
            <option value="">Selecione um bairro</option>
            <option *ngFor="let bairro of bairros" [value]="bairro">
              {{ bairro }}
            </option>
          </select>
        </div>
      </div>

      <div class="buttons">
        <button (click)="pegarLocalizacao()">Usar Localiza√ß√£o atual</button>
        <button (click)="alterarLocalizacao()">
          {{ mostrandoFormulario ? "OK" : "Escolher Localiza√ß√£o" }}
        </button>
      </div>
    </div>
  </div>
</ng-template>

<!-- <div *ngIf="mostrandoFormulario" class="form-localizacao">
  <div class="form-group">
    <label for="estado">Estado:</label>
    <select
      id="estado"
      [(ngModel)]="estadoSelecionado"
      (change)="onEstadoChange()"
    >
      <option value="">Selecione um estado</option>
      <option *ngFor="let estado of estados" [value]="estado">
        {{ estado }}
      </option>
    </select>
  </div>

  <div class="form-group" *ngIf="cidades.length > 0">
    <label for="cidade">Cidade:</label>
    <select
      id="cidade"
      [(ngModel)]="cidadeSelecionada"
      (change)="onCidadeChange()"
    >
      <option value="">Selecione uma cidade</option>
      <option *ngFor="let cidade of cidades" [value]="cidade">
        {{ cidade }}
      </option>
    </select>
  </div>

  <div class="form-group" *ngIf="bairros.length > 0">
    <label for="bairro">Bairro:</label>
    <select id="bairro" [(ngModel)]="bairroSelecionado">
      <option value="">Selecione um bairro</option>
      <option *ngFor="let bairro of bairros" [value]="bairro">
        {{ bairro }}
      </option>
    </select>
  </div>
</div> -->
